<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="http-callback" />
	<meta name="description" content="http-callback" />
	<!-- 网页标签标题 -->
	<title>http-callback</title>
	<link rel="shortcut icon" href="/thain/img/docsite.ico"/>
	<link rel="stylesheet" href="/thain/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/thain/zh-cn/index.html"><img class="logo" src="/thain/img/thain-logo.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/thain/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/thain/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/thain/zh-cn/docs/quick_start.html" target="_self">文档</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/thain/img/system/docs.png" class="front-img"/><span>文档</span><img src="/thain/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>基本操作</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/thain/zh-cn/docs/quick_start.html" target="_self">快速启动</a></li><li style="height:72px;overflow:hidden" class="menu-item menu-item-level-2"><span>页面使用<img style="transform:rotate(0deg)" class="menu-toggle" src="/thain/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/page-usage/create-flow.html" target="_self">创建Flow</a></li></ul></li><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>定制部署<img style="transform:rotate(0deg)" class="menu-toggle" src="/thain/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/custom-deployment/database.html" target="_self">数据库</a></li><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/custom-deployment/user.html" target="_self">用户管理</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/thain/zh-cn/docs/http-callback.html" target="_self">HTTP回调</a></li></ul></li><li class="menu-item menu-item-level-1"><span>组件使用</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/thain/zh-cn/docs/component/introduction.html" target="_self">组件说明</a></li><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>std组件<img style="transform:rotate(0deg)" class="menu-toggle" src="/thain/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/component/std/shell.html" target="_self">Shell</a></li><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/component/std/http.html" target="_self">HTTP</a></li><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/component/std/mail.html" target="_self">邮件</a></li></ul></li><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>自定义组件<img style="transform:rotate(0deg)" class="menu-toggle" src="/thain/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/component/customize/definition.html" target="_self">组件定义</a></li><li class="menu-item menu-item-level-3"><a href="/thain/zh-cn/docs/component/customize/implementation.html" target="_self">组件实现</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/thain/zh-cn/docs/component/example.html" target="_self">组件组合使用示例</a></li></ul></li><li class="menu-item menu-item-level-1"><span>FAQ</span><ul></ul></li></ul></div><div class="doc-content markdown-body"><!--
 Copyright (c) 2019, Xiaomi, Inc.  All rights reserved.
 This source code is licensed under the Apache License Version 2.0, which
 can be found in the LICENSE file in the root directory of this source tree.
-->
<h1>HTTP 回调</h1>
<p>HTTP 回调功能一般用于其他系统接入调度时使用。</p>
<h2>flow 修改回调</h2>
<p>创建 flow 的时候可以填写<code>modify_callback_url</code>用于当 flow 修改时，回调指定的 url</p>
<table>
<thead>
<tr>
<th>触发条件</th>
<th>method</th>
<th>content-type</th>
<th>回调内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>暂停</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;status&quot;:1, &quot;flowId&quot;:x}</td>
</tr>
<tr>
<td>继续</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;status&quot;:2, &quot;flowId&quot;:x}</td>
</tr>
</tbody>
</table>
<h2>flow execution 执行状态发生变化回调</h2>
<p>创建 flow 的时候可以填写<code>callback_url</code>用于当 flow execution 状态发生变化时，回调指定的 url</p>
<table>
<thead>
<tr>
<th>触发条件</th>
<th>method</th>
<th>content-type</th>
<th>回调内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 2}</td>
</tr>
<tr>
<td>error</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 3, message&quot;: [失败原因]}</td>
</tr>
<tr>
<td>running</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 4}</td>
</tr>
<tr>
<td>killed</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 5}</td>
</tr>
<tr>
<td>auto_killed</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 7}</td>
</tr>
</tbody>
</table>
<h2>job execution 执行状态发生变化回调</h2>
<p>创建 job 的时候可以填写<code>callback_url</code>用于当 job execution 状态发生变化时，回调指定的 url</p>
<table>
<thead>
<tr>
<th>触发条件</th>
<th>method</th>
<th>content-type</th>
<th>回调内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>running</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 2}</td>
</tr>
<tr>
<td>success</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 3}</td>
</tr>
<tr>
<td>error</td>
<td>POST</td>
<td>FORM</td>
<td>{&quot;flowId&quot;: x, &quot;flowExecutionId&quot;: x, &quot;code&quot;: 4, message&quot;: [失败原因]}</td>
</tr>
</tbody>
</table>
</div></section><footer class="footer-container"><div class="footer-body"><div class="copyright"><span>Copyright © 2020 XIAOMI </span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '/thain';
  </script>
	<script src="/thain/build/documentation.js"></script>
</body>
</html>